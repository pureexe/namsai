{
  "story_id":1,
  "story_name":"สั่งอาหาร",
  "graph":[
    {
      "node_id":1,
      "node_type":"pattern",
      "node_value":"^หิวข้าว(.+)$",
      "node_next":[
        {
          "node_id":2,
          "node_type":"response",
          "node_value":"ต้องการให้สั่งอาหารให้ไหมคะ?",
          "node_next":[
            {
              "node_id":3,
              "node_type":"pattern",
              "node_value":"^ใช่(?:แล้ว)$",
              "node_next":[
                {
                  "node_id":5,
                  "node_type":"condition",
                  "node_value":{
                    "variable":"money",
                    "operator":">=",
                    "value":300,
                  },
                  "node_next":[
                    {
                      "node_id":6,
                      "node_type":"action",
                      "node_value":{
                        "variable":"money",
                        "operator":"-=",
                        "value":300,
                      },
                      "node_next":[
                        {
                          "node_id":7,
                          "node_type":"webhook",
                          "node_value":{
                            "url":"api.example.com/v1/food",
                            "method":"post",
                            "data":{
                              "id":1,
                              "cost":300,
                            }
                          },
                          "node_next":[
                            {
                              "node_id":8,
                              "node_type":"response",
                              "node_value":"สั่งอาหารเรียบร้อยแล้ว จะส่งถึงมือคุณภายใน 30 นาทีนี้ค่ะ"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },{
                  "node_id":9,
                  "node_type":"response",
                  "node_value":"ขออภัยค่ะ ยอดเงินของท่านไม่พอสำหรับการสั่งอาหาร"
                }
              ]
            },{
              "node_id":4,
              "node_type":"pattern",
              "node_value":"^ไม่(?:ต้อง)$",
              "node_next":[
                {
                  "node_id":10,
                  "node_type":"response",
                  "node_value":"ไม่เป็นไรค่ะ ถ้าต้องการสั่งอาหารเมื่อไร อย่าลืมนึกถึงร้านของเรานะคะ"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
